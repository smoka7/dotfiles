### Variables

set $mod Mod4
set $alt Mod1
set $shift Shift
set $ctrl Control
set $term footclient
set $scripts $HOME/.config/scripts
set $screenshot  /usr/share/sway/scripts/grimshot  save area

set $launcher footclient --app-id 'launcher'
#set $launcher wezterm start --class 'launcher'

default_border pixel 0
floating_maximum_size 0 x 0
focus_follows_mouse yes
mouse_warping output
smart_borders on
title_align center
workspace_layout tabbed
popup_during_fullscreen smart
hide_edge_borders --i3 smart_no_gaps
titlebar_border_thickness 0
titlebar_padding 1 1
xwayland enabled


seat seat0 xcursor_theme capitaine-cursors-light 42
# seat seat0 hide_cursor when-typing enable

assign [app_id="firefoxdeveloperedition"] 1

assign [app_id="subl"] 2
assign [app_id="Sublime_merge"] 2
assign [app_id="jetbrains-idea"] 2

assign [app_id="zeal"] 3
assign [app_id="sqlitebrowser"] 3

assign [app_id="cantata"] 4
assign [app_id="transmission-gtk"] 5


    ### Output configuration
#
# Default wallpaper (more resolutions are available in /usr/share/backgrounds/sway/)
#output * bg ~/Pictures/wallpaper fill
output * bg /usr/share/backgrounds/sway/Sway_Wallpaper_Blue_1366x768.png fill

#
# Example configuration:
#
# output HDMI-A-1 resolution 1920x1080 position 1920,0
#
# You can get the names of your outputs by running: swaymsg -t get_outputs

### Idle configuration
#
# Example configuration:
exec swayidle -w \
    timeout 600 'systemctl hybrid-sleep' \
    before-sleep 'swaylock.sh'

## Input configuration

input "2:8:AlpsPS/2_ALPS_GlidePoint" {
    dwt enabled
    tap enabled
    middle_emulation enabled
    pointer_accel 0.433
}

input * {
    xkb_layout us,ir
    xkb_options grp:alt_shift_toggle
    xkb_numlock enable
}

font pango:Iosevka 4
#class                  border  bground text    indicator child_border
client.urgent           #d81b60 #d81b60 #d81b60 #d81b60   #d81b60
client.focused          #ffb350 #ffb350 #ffb350 #6272A4   #ffb350
client.unfocused        #5955c2 #5955c210 #1b222d #5955c2   #5955c2
client.background       #5955c2
client.placeholder      #282A36 #282A36 #1b222d #282A36   #e1e8fd
client.focused_inactive #ab6aa4 #ab6aa4 #ab6aa4 #ab6aa4   #6272A4


### Key bindings

floating_modifier $mod normal

bindsym --to-code {

# Start a terminal
    $mod+Return exec $term
    $mod+a exec $term

# kill focused window
    $mod+q  kill
    $alt+F4  kill

    $mod+e exec nautilus
    $mod+t exec gnome-system-monitor
    $mod+d exec appsmenu.sh
    $mod+k exec $launcher  kill.sh
    $mod+i exec $launcher  zealfzf.sh
    $mod+w exec $launcher  nmclisway.sh
    $alt+Tab exec $launcher  swayHelper fast
    $mod+Semicolon exec $launcher  killfzf.sh
    $mod+Colon exec $launcher  killfzf.sh all
    $mod+Apostrophe exec $launcher  misc.sh
    $mod+$shift+i exec $launcher  zealfzf.sh search
    $mod+$shift+w exec $launcher  nmclisway.sh search
    $mod+y exec swayHelper dropdown
    $mod+l exec swaylock.sh
    $ctrl+KP_Enter exec copyq toggle


# Reload and Exit
    $mod+Shift+c reload

    $mod+Shift+e exec swaynag -t warning -m 'Do you really want to exit sway?' -b 'Yes' 'swaymsg exit'

# Moving around:
#
    $mod+Up exec swayHelper focus up
    $mod+Left exec swayHelper focus left
    $mod+Down exec swayHelper focus down
    $mod+Right exec swayHelper focus right

    $mod+Shift+Up move up
    $mod+Shift+Left move left
    $mod+Shift+Down move down
    $mod+Shift+Right move right

    $mod+F2 exec swayHelper snap top
    $mod+F1 exec swayHelper snap left
    $mod+F4 exec swayHelper snap right
    $mod+F3 exec swayHelper snap bottom

# Workspaces:
#
    $mod+n move workspace to output left
    $mod+m move workspace to output right

    $mod+bracketleft move to output left
    $mod+bracketright move to output right

    $mod+Period workspace next
    $mod+Comma workspace prev

    $mod+Tab workspace back_and_forth
    #$alt+Tab exec swayr switch-window
    $mod+Escape exec swayr switch-to-urgent-or-lru-window

   
#
# Switch to workspace
    $mod+1 workspace number 1
    $mod+2 workspace number 2
    $mod+3 workspace number 3
    $mod+4 workspace number 4
    $mod+5 workspace number 5
    $mod+6 workspace number 6
    $mod+7 workspace number 7
    $mod+8 workspace number 8
    $mod+9 workspace number 9
    $mod+0 workspace number 10
#
# Move focused container to workspace
    $mod+Shift+1 move container to workspace number 1
    $mod+Shift+2 move container to workspace number 2
    $mod+Shift+3 move container to workspace number 3
    $mod+Shift+4 move container to workspace number 4
    $mod+Shift+5 move container to workspace number 5
    $mod+Shift+6 move container to workspace number 6
    $mod+Shift+7 move container to workspace number 7
    $mod+Shift+8 move container to workspace number 8
    $mod+Shift+9 move container to workspace number 9
    $mod+Shift+0 move container to workspace number 10


#
# Layout stuff:

    $mod+f fullscreen
    $mod+g sticky toggle
    $mod+s floating toggle
    $mod+$shift+f fullscreen global
    --whole-window $mod+button3 floating toggle

    $mod+h move scratchpad
    $mod+$shift+h scratchpad show

    $mod+v split toggle
    $mod+c layout toggle all
    $mod+b exec swayr execute-swayr-command
    $mod+space focus mode_toggle

# Resizing containers:

    $mod+$alt+Up resize shrink height 10 px or 10 ppt
    $mod+$alt+Down resize grow height 10 px or 10 ppt
    $mod+$alt+Right resize grow width 10 px or 10 ppt
    $mod+$alt+Left resize shrink width 10 px or 10 ppt

# notification
    $mod+grave exec makoctl restore
    Print exec $screenshot
    $ctrl+space exec makoctl dismiss

# Multimedia controls
    $ctrl+KP_0 exec  mpc -h 0.0.0.0 -p 6601 toggle
    $ctrl+KP_1 exec  mpc -h 0.0.0.0 -p 6601 prev
    $ctrl+KP_3 exec  mpc  -h 0.0.0.0 -p 6601 next
    $mod+KP_5 exec $launcher ncmpcpp
    $ctrl+KP_2 exec  $scripts/likeCurrentSong.sh &>/dev/null

#Audio controls
    XF86AudioMute exec pactl set-sink-mute 0 toggle
    XF86AudioRaiseVolume exec $scripts/volume.sh up 5
    XF86AudioLowerVolume exec $scripts/volume.sh down 5
    $ctrl+KP_6 exec $scripts/volume.sh up 5
    $ctrl+KP_4 exec $scripts/volume.sh down 5

# Sreen brightness controls
    XF86MonBrightnessUp exec $scripts/brightnessctl.sh up
    XF86MonBrightnessDown exec  $scripts/brightnessctl.sh down
    $shift+XF86MonBrightnessUp exec brightnessctl -d acpi_video1 s 100
    $shift+XF86MonBrightnessDown exec brightnessctl -d acpi_video1 s 0
}
set $default mode "default"
mode "workspace" {
    bindsym --to-code {
        q workspace number 1 ,$default
        w workspace number 2 ,$default
        e workspace number 3 ,$default
        a workspace number 4 ,$default
        s workspace number 5 ,$default
        d workspace number 6 ,$default
        z workspace number 7 ,$default
        x workspace number 8 ,$default
        c workspace number 9 ,$default
        Return mode "default"
        Escape mode "default"
    }
}
bindsym --to-code $mod+r mode "workspace"

exec env RUST_BACKTRACE=1 swayrd > /tmp/swayrd.log 2>&1

bar {
    swaybar_command waybar
}
exec ~/.config/scripts/startup-sway.sh

# Enables inhibit_idle when playing audio
exec sway-audio-idle-inhibit
exec foot --server

include ./floating.conf
include /etc/sway/config.d/*
