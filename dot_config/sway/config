# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.

### Variables
#
# Logo key. Use Mod1 for Alt.
set $mod Mod4
set $alt Mod1
set $shift Shift
set $term wezterm
set $scripts $HOME/.config/scripts
set $screenshot  /usr/share/sway/scripts/grimshot  save area
set $launcher foot --app-id 'launcher'

    default_border pixel 0
    floating_maximum_size 1000 x 800
    focus_follows_mouse yes
    mouse_warping output
    smart_borders on
    title_align center
    hide_edge_borders --i3 smart_no_gaps
    titlebar_border_thickness 0
    titlebar_padding 1 1
    xwayland enabled

# seat seat0 xcursor_theme volantes_cursors 16
# seat seat0 hide_cursor when-typing enable

    assign [app_id="firefoxdeveloperedition"] 1
# binsym  --to-code Control+$mod+f [class="firefox"] focus

    assign [app_id="subl"] 2
    assign [app_id="Sublime_merge"] 2
    assign [app_id="jetbrains-idea"] 2

    assign [app_id="zeal"] 3
    assign [app_id="sqlitebrowser"] 3

    assign [app_id="cantata"] 4
    assign [app_id="transmission-gtk"] 5


    workspace_layout tabbed
    popup_during_fullscreen smart
### Output configuration
#
# Default wallpaper (more resolutions are available in /usr/share/backgrounds/sway/)
    output * bg ~/Pictures/wallpaper fill
#
# Example configuration:
#
# output HDMI-A-1 resolution 1920x1080 position 1920,0
#
# You can get the names of your outputs by running: swaymsg -t get_outputs

### Idle configuration
#
# Example configuration:
    exec swayidle -w \
        timeout 600 'systemctl hybrid-sleep'\
        before-sleep 'swaylock.sh'

## Input configuration

        input "2:8:AlpsPS/2_ALPS_GlidePoint" {
            dwt enabled
                tap enabled
                middle_emulation enabled
                pointer_accel 0.433
        }

input * {
    xkb_layout us,ir
        xkb_options grp:alt_shift_toggle
        xkb_numlock enable
}

font pango:Iosevka 1
#class                  border  bground text    indicator child_border
client.urgent           #d81b60 #d81b60 #1b222d #FF5555   #FF5555
client.focused          #fdd835 #fdd835 #1b222d #6272A4   #fdd835
client.unfocused        #e1e8fd #f8f8f2 #1b222d #282A36   #282A36
client.background       #F8F8F2
client.placeholder      #282A36 #282A36 #1b222d #282A36   #e1e8fd
client.focused_inactive #aadd33 #aadd33 #1b222d #44475A   #6272A4


### Key bindings

floating_modifier $mod normal

bindsym --to-code {
# Start a terminal
        $mod+Return exec $term
        $mod+e exec nautilus
        $mod+r exec tilix

# kill focused window
        $mod+q  kill
        $alt+F4  kill
# $mod+grave exec $scripts/altf4.sh&>/dev/null show
# --release Control+button3 kill

        $mod+k exec $launcher  kill.sh
        $mod+i exec $launcher  zealfzf.sh
        $mod+w exec $launcher  nmclisway.sh
        $mod+Semicolon exec $launcher  killfzf.sh
        $mod+Colon exec $launcher  killfzf.sh all
        $mod+$shift+i exec $launcher  zealfzf.sh search
        $mod+$shift+w exec $launcher  nmclisway.sh search
        $mod+y exec swayHelper dropdown
        $mod+l exec swaylock.sh


# Reload the configuration file
        $mod+Shift+c reload

# Exit sway (logs you out of your Wayland session)
        $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -b 'Yes, exit sway' 'swaymsg exit'

# Moving around:
#
        $mod+Left exec swayHelper focus prev
        $mod+Down exec swayHelper focus prev
        $mod+Up exec swayHelper focus next
        $mod+Right exec swayHelper focus next

        $mod+Shift+Left move left
        $mod+Shift+Down move down
        $mod+Shift+Up move up
        $mod+Shift+Right move right

        $mod+F1 exec swayHelper snap left
        $mod+F2 exec swayHelper snap top
        $mod+F3 exec swayHelper snap bottom
        $mod+F4 exec swayHelper snap right

# Workspaces:
#
        $mod+n move workspace to output left
        $mod+m move workspace to output right

        $mod+bracketleft move to output left
        $mod+bracketright move to output right

        $mod+Period workspace next
        $mod+Comma workspace prev

        $mod+Tab workspace back_and_forth
        $alt+Tab exec swayr switch-window
        $mod+Escape exec swayr switch-to-urgent-or-lru-window

#
# Switch to workspace
        $mod+1 workspace number 1
        $mod+2 workspace number 2
        $mod+3 workspace number 3
        $mod+4 workspace number 4
        $mod+5 workspace number 5
        $mod+6 workspace number 6
        $mod+7 workspace number 7
        $mod+8 workspace number 8
        $mod+9 workspace number 9
        $mod+0 workspace number 10
#
# Move focused container to workspace
        $mod+Shift+1 move container to workspace number 1
        $mod+Shift+2 move container to workspace number 2
        $mod+Shift+3 move container to workspace number 3
        $mod+Shift+4 move container to workspace number 4
        $mod+Shift+5 move container to workspace number 5
        $mod+Shift+6 move container to workspace number 6
        $mod+Shift+7 move container to workspace number 7
        $mod+Shift+8 move container to workspace number 8
        $mod+Shift+9 move container to workspace number 9
        $mod+Shift+0 move container to workspace number 10

#marking

# bindsym $mod+i exec i3-input -F 'sark %s' -l 1 -P 'Mark: '
# bindsym $mod+u exec i3-input -F '[con_mark="%s"] focus' -l 1 -P 'Goto: '
# bindsym $mod+Shift+m unmark
# bindsym $mod+bracketleft mark --toggle A
# bindsym $mod+o swap container with mark A

#
# Layout stuff:

        $mod+f fullscreen
        $mod+g sticky toggle
        $mod+s floating toggle
        $mod+$shift+f fullscreen global
        --whole-window $mod+button3 floating toggle

        $mod+h move scratchpad
        $mod+$shift+h scratchpad show

        $mod+v split toggle
        $mod+c layout tabbed
        $mod+b exec swayr execute-swayr-command
        $mod+a focus parent
        $mod+space focus mode_toggle

# Resizing containers:
#

        $mod+$alt+Up resize shrink height 10 px or 10 ppt
        $mod+$alt+Down resize grow height 10 px or 10 ppt
        $mod+$alt+Right resize grow width 10 px or 10 ppt
        $mod+$alt+Left resize shrink width 10 px or 10 ppt

        $mod+KP_5 exec cantata
        # $mod+d exec albert show
        $mod+d exec appsmenu.sh
        $mod+t exec gnome-system-monitor
        Control+KP_Enter exec copyq toggle
#
# notification
        $mod+grave exec dunstctl history-pop
        Print exec $screenshot
        Control+Shift+space exec dunstctl context
        Control+space exec dunstctl close-all

# Multimedia controls
        Control+KP_0 exec  mpc -h 0.0.0.0 -p 6601 toggle
        Control+KP_1 exec  mpc -h 0.0.0.0 -p 6601 prev
        Control+KP_3 exec  mpc  -h 0.0.0.0 -p 6601 next
        Control+KP_2 exec  $scripts/likeCurrentSong.sh &>/dev/null

#Audio controls
        XF86AudioMute exec pactl set-sink-mute 0 toggle
        XF86AudioRaiseVolume exec $scripts/volume.sh up 5
        XF86AudioLowerVolume exec $scripts/volume.sh down 5
        Control+KP_6 exec $scripts/volume.sh up 5
        Control+KP_4 exec $scripts/volume.sh down 5

# Sreen brightness controls
        XF86MonBrightnessUp exec $scripts/brightnessctl.sh up
        XF86MonBrightnessDown exec  $scripts/brightnessctl.sh down
        $shift+XF86MonBrightnessUp exec brightnessctl -d acpi_video1 s 100
        $shift+XF86MonBrightnessDown exec brightnessctl -d acpi_video1 s 0
}


exec env RUST_BACKTRACE=1 swayrd > /tmp/swayrd.log 2>&1

bar {
    swaybar_command waybar
}
exec ~/.config/scripts/startup-sway.sh
include ./floating.conf
include /etc/sway/config.d/*
